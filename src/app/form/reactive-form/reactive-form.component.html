<div class="container mat-elevation-z4">
  <marquee><h3>Reactive Forms</h3></marquee>
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <!-- Name Input -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput type="text" id="name" formControlName="name" />
      <mat-error *ngIf="f['name'].invalid && f['name'].touched">
        <small *ngIf="f['name'].errors?.['required']">Name is required.</small>
        <small *ngIf="f['name'].errors?.['minlength']">Name must be at least 3 characters long.</small>
      </mat-error>
    </mat-form-field>

    <!-- Email Input -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput type="email" id="email" formControlName="email" />
      <mat-error *ngIf="f['email'].invalid && f['email'].touched">
        <small *ngIf="f['email'].errors?.['required']">Email is required.</small>
        <small *ngIf="f['email'].errors?.['email']">Email must be valid.</small>
      </mat-error>
    </mat-form-field>

    <!-- Phone Number Input -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Phone Number</mat-label>
      <input matInput type="text" id="phone" formControlName="phone" />
      <mat-error *ngIf="f['phone'].invalid && f['phone'].touched">
        <small *ngIf="f['phone'].errors?.['required']">Phone number is required.</small>
        <small *ngIf="f['phone'].errors?.['pattern']">Phone number must be 10 digits.</small>
      </mat-error>
    </mat-form-field>

    <!-- Address Form Group -->
    <div formGroupName="address" class="address-section">
      <h4>Address</h4>
      <!-- Street Input -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Street</mat-label>
        <input matInput type="text" id="street" formControlName="street" />
        <mat-error *ngIf="f['address'].get('street')?.invalid && f['address'].get('street')?.touched">
          <small *ngIf="f['address'].get('street')?.errors?.['required']">Street is required.</small>
        </mat-error>
      </mat-form-field>

      <!-- City Input -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>City</mat-label>
        <input matInput type="text" id="city" formControlName="city" />
        <mat-error *ngIf="f['address'].get('city')?.invalid && f['address'].get('city')?.touched">
          <small *ngIf="f['address'].get('city')?.errors?.['required']">City is required.</small>
        </mat-error>
      </mat-form-field>

      <!-- Postal Code Input -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Postal Code</mat-label>
        <input matInput type="text" id="postalCode" formControlName="postalCode" />
        <mat-error *ngIf="f['address'].get('postalCode')?.invalid && f['address'].get('postalCode')?.touched">
          <small *ngIf="f['address'].get('postalCode')?.errors?.['required']">Postal Code is required.</small>
          <small *ngIf="f['address'].get('postalCode')?.errors?.['pattern']">Postal Code must be 5 digits.</small>
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Bio Textarea -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Bio</mat-label>
      <textarea matInput id="bio" formControlName="bio" rows="4"></textarea>
      <mat-error *ngIf="f['bio'].invalid && f['bio'].touched">
        <small *ngIf="f['bio'].errors?.['maxlength']">Bio cannot exceed 200 characters.</small>
      </mat-error>
    </mat-form-field>

    <!-- Country Dropdown -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Country</mat-label>
      <mat-select id="country" formControlName="country">
        <mat-option value="">Select a country</mat-option>
        <mat-option *ngFor="let country of countries" [value]="country.value">{{ country.viewValue }}</mat-option>
      </mat-select>
      <mat-error *ngIf="f['country'].invalid && f['country'].touched">
        <small>Country is required.</small>
      </mat-error>
    </mat-form-field>

    <!-- Age Input -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Age</mat-label>
      <input matInput type="number" id="age" formControlName="age" />
      <mat-error *ngIf="f['age'].invalid && f['age'].touched">
        <small *ngIf="f['age'].errors?.['required']">Age is required.</small>
        <small *ngIf="f['age'].errors?.['min']">Age must be at least 18.</small>
        <small *ngIf="f['age'].errors?.['max']">Age must not exceed 65.</small>
      </mat-error>
    </mat-form-field>

    <!-- Submit Button -->
    <div class="button-group">
      <button mat-raised-button color="primary" type="submit" [disabled]="registrationForm.invalid">Submit</button>
    </div>
  </form>
</div>
